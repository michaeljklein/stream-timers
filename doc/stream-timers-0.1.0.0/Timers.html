<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Timers</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Timers.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">stream-timers-0.1.0.0: Some stream timers, and experiments with them</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Timers</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:foldrOnce">foldrOnce</a> :: (a -&gt; b -&gt; a) -&gt; (a, [b]) -&gt; (a, [b])</li><li class="src short"><a href="#v:foldrTimes">foldrTimes</a> :: (a -&gt; b -&gt; a) -&gt; (a, [b]) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; (a, [b])</li><li class="src short"><a href="#v:foldlOnce">foldlOnce</a> :: (a -&gt; b -&gt; b) -&gt; ([a], b) -&gt; ([a], b)</li><li class="src short"><a href="#v:foldlTimes">foldlTimes</a> :: (a -&gt; b -&gt; b) -&gt; ([a], b) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; ([a], b)</li><li class="src short"><a href="#v:foldrOnceM">foldrOnceM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; b -&gt; a) -&gt; (a, [b]) -&gt; m (a, [b])</li><li class="src short"><a href="#v:foldrTimesM">foldrTimesM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (t -&gt; t1 -&gt; t) -&gt; (t, [t1]) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; m (t, [t1])</li><li class="src short"><a href="#v:foldlOnceM">foldlOnceM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (t1 -&gt; t -&gt; t) -&gt; ([t1], t) -&gt; m ([t1], t)</li><li class="src short"><a href="#v:foldlTimesM">foldlTimesM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (t1 -&gt; t -&gt; t) -&gt; ([t1], t) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; m ([t1], t)</li><li class="src short"><a href="#v:nest">nest</a> :: (b -&gt; b) -&gt; b -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; b</li><li class="src short"><a href="#v:nestM">nestM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (b -&gt; m b) -&gt; b -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; m b</li><li class="src short"><a href="#v:nestByM">nestByM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (b -&gt; m b) -&gt; b -&gt; m <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; m b</li><li class="src short"><a href="#v:nestMForever">nestMForever</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (b -&gt; m b) -&gt; b -&gt; m b</li><li class="src short"><a href="#v:nestByOrd">nestByOrd</a> :: (a -&gt; <a href="../base-4.10.1.0/Data-Ord.html#t:Ordering">Ordering</a>) -&gt; (a -&gt; a) -&gt; (a -&gt; a) -&gt; a -&gt; a</li><li class="src short"><a href="#v:switchByPred">switchByPred</a> :: (t1 -&gt; t) -&gt; (t1 -&gt; t) -&gt; (t1 -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; t1 -&gt; t</li><li class="src short"><a href="#v:switchOnM">switchOnM</a> :: (<a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m, <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m1) =&gt; (b -&gt; m1 b) -&gt; (m1 b -&gt; m b) -&gt; m1 <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; b -&gt; m b</li><li class="src short"><a href="#v:switchEveryN">switchEveryN</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (b -&gt; b) -&gt; (b -&gt; m b) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; b -&gt; m b</li><li class="src short"><a href="#v:switchEveryM">switchEveryM</a> :: <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; (a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a) -&gt; (a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a) -&gt; a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.10.1.0/Data-Void.html#t:Void">Void</a></li><li class="src short"><a href="#v:fixPt">fixPt</a> :: <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; (a -&gt; a) -&gt; a -&gt; a</li><li class="src short"><a href="#v:printEveryN">printEveryN</a> :: <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> b =&gt; (b -&gt; b) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; b -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> b</li><li class="src short"><a href="#v:sideEffectEveryN">sideEffectEveryN</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (b -&gt; m a) -&gt; (b -&gt; b) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; b -&gt; m b</li><li class="src short"><a href="#v:switchEvery-39-">switchEvery'</a> :: (<a href="../time-1.8.0.2/Data-Time-Clock.html#t:UTCTime">UTCTime</a>, <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a>, <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a>, <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5), t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5), <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5) -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../time-1.8.0.2/Data-Time-Clock.html#t:UTCTime">UTCTime</a>, <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a>, <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a>, <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5), t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5), <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5)</li><li class="src short"><a href="#v:switchEvery-39--39-">switchEvery''</a> :: (<a href="../base-4.10.1.0/Prelude.html#t:Integral">Integral</a> t4, <a href="../base-4.10.1.0/Prelude.html#t:Integral">Integral</a> t6) =&gt; (<a href="../time-1.8.0.2/Data-Time-Clock.html#t:UTCTime">UTCTime</a>, t6, t4, t7 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t7, t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t7, <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5) -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../time-1.8.0.2/Data-Time-Clock.html#t:UTCTime">UTCTime</a>, t6, <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a>, t7 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t7, t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t7, t7)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:foldrOnce" class="def">foldrOnce</a> :: (a -&gt; b -&gt; a) -&gt; (a, [b]) -&gt; (a, [b]) <a href="src/Timers.html#foldrOnce" class="link">Source</a> <a href="#v:foldrOnce" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:foldrOnce">foldrOnce</a></code> applies a right fold, only once (for streams, primarily).</p></div></div><div class="top"><p class="src"><a id="v:foldrTimes" class="def">foldrTimes</a> :: (a -&gt; b -&gt; a) -&gt; (a, [b]) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; (a, [b]) <a href="src/Timers.html#foldrTimes" class="link">Source</a> <a href="#v:foldrTimes" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:foldrTimes">foldrTimes</a></code> applies <code><a href="Timers.html#v:foldrOnce">foldrOnce</a></code> a given number of times.</p></div></div><div class="top"><p class="src"><a id="v:foldlOnce" class="def">foldlOnce</a> :: (a -&gt; b -&gt; b) -&gt; ([a], b) -&gt; ([a], b) <a href="src/Timers.html#foldlOnce" class="link">Source</a> <a href="#v:foldlOnce" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:foldlOnce">foldlOnce</a></code> is the left-associative version of <code><a href="Timers.html#v:foldrOnce">foldrOnce</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:foldlTimes" class="def">foldlTimes</a> :: (a -&gt; b -&gt; b) -&gt; ([a], b) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; ([a], b) <a href="src/Timers.html#foldlTimes" class="link">Source</a> <a href="#v:foldlTimes" class="selflink">#</a></p><div class="doc"><p>See <code><a href="Timers.html#v:foldlOnce">foldlOnce</a></code>, <code><a href="Timers.html#v:foldrTimes">foldrTimes</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:foldrOnceM" class="def">foldrOnceM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; b -&gt; a) -&gt; (a, [b]) -&gt; m (a, [b]) <a href="src/Timers.html#foldrOnceM" class="link">Source</a> <a href="#v:foldrOnceM" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:foldrOnceM">foldrOnceM</a></code> generalizes <code><a href="Timers.html#v:foldrOnceM">foldrOnceM</a></code> to general monads.</p></div></div><div class="top"><p class="src"><a id="v:foldrTimesM" class="def">foldrTimesM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (t -&gt; t1 -&gt; t) -&gt; (t, [t1]) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; m (t, [t1]) <a href="src/Timers.html#foldrTimesM" class="link">Source</a> <a href="#v:foldrTimesM" class="selflink">#</a></p><div class="doc"><p>See <code><a href="Timers.html#v:foldrOnceM">foldrOnceM</a></code>, <code><a href="Timers.html#v:foldrTimes">foldrTimes</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:foldlOnceM" class="def">foldlOnceM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (t1 -&gt; t -&gt; t) -&gt; ([t1], t) -&gt; m ([t1], t) <a href="src/Timers.html#foldlOnceM" class="link">Source</a> <a href="#v:foldlOnceM" class="selflink">#</a></p><div class="doc"><p>See <code><a href="Timers.html#v:foldrOnceM">foldrOnceM</a></code>, <code><a href="Timers.html#v:foldlOnce">foldlOnce</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:foldlTimesM" class="def">foldlTimesM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (t1 -&gt; t -&gt; t) -&gt; ([t1], t) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; m ([t1], t) <a href="src/Timers.html#foldlTimesM" class="link">Source</a> <a href="#v:foldlTimesM" class="selflink">#</a></p><div class="doc"><p>See <code><a href="Timers.html#v:foldrTimesM">foldrTimesM</a></code>, <code><a href="Timers.html#v:foldlOnceM">foldlOnceM</a></code>,</p></div></div><div class="top"><p class="src"><a id="v:nest" class="def">nest</a> :: (b -&gt; b) -&gt; b -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; b <a href="src/Timers.html#nest" class="link">Source</a> <a href="#v:nest" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:nest">nest</a></code> applies f to x, n times.</p></div></div><div class="top"><p class="src"><a id="v:nestM" class="def">nestM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (b -&gt; m b) -&gt; b -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; m b <a href="src/Timers.html#nestM" class="link">Source</a> <a href="#v:nestM" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:nestM">nestM</a></code> generalizes <code><a href="Timers.html#v:nest">nest</a></code> to functions returning Monad values.</p></div></div><div class="top"><p class="src"><a id="v:nestByM" class="def">nestByM</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (b -&gt; m b) -&gt; b -&gt; m <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; m b <a href="src/Timers.html#nestByM" class="link">Source</a> <a href="#v:nestByM" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:nestByM">nestByM</a></code> generalizes <code><a href="Timers.html#v:nestM">nestM</a></code> to numbers inside monads (for example, <code>mn</code> could be (read.getLine)).</p></div></div><div class="top"><p class="src"><a id="v:nestMForever" class="def">nestMForever</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (b -&gt; m b) -&gt; b -&gt; m b <a href="src/Timers.html#nestMForever" class="link">Source</a> <a href="#v:nestMForever" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:nestMForever">nestMForever</a></code> is equivalent to `nestM f x Infinity`.</p><pre>&#955;&gt; nestMForever (x -&gt; print x &gt;&gt; return x) (return 10 :: Expire Int)
Expire {getExpire = (1,Just 10)}
Expire {getExpire = (1,Just 10)}
Expire {getExpire = (1,Just 10)}
Expire {getExpire = (1,Just 10)}
Expire {getExpire = (1,Just 10)}
Expire {getExpire = (1,Just 10)}
Expire {getExpire = (1,Just 10)}
Expire {getExpire = (1,Just 10)}
Expire {getExpire = (1,Just 10)}
Expire {ge^Cpire = (1,Just 10)}
Expire {getExpire = (1,Just 10)}
Expire {getExpireInterrupted.
</pre><pre>&#955;&gt; nestMForever (x -&gt; print x &gt;&gt; return x) (return 10 :: ExpireE Int)
ExpireE {getExpireE = (1,10)}
ExpireE {getExpireE = (1,10)}
ExpireE {getExpireE = (1,10)}
ExpireE {getExpireE = (1,10)}
ExpireE {getExpireE = (1,10)}
Ex^CE {getExpireE = (1,10)}
ExpireE {getExpireE = (1,10)}
ExpireE {getExpireE = (1,10)}Interrupted.
</pre><pre>&#955;&gt; dumpExpireIO =<img src="nestMForever" title="(id $ x -&gt; (dumpExpireIO x" />= print) &gt;&gt; return x) (return 10 :: ExpireIO Int)
J^Cust (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1Interrupted.
</pre><pre>&#955;&gt; dumpExpireIO =<img src="nestMForever" title="(id $ x -&gt; (dumpExpireIO x" />= print &gt;&gt; killExpireIO x) &gt;&gt; return x) (return 10 :: ExpireIO Int)
Just^Cust (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10Interrupted.
</pre><pre>&#955;&gt; dumpExpireIO =<img src="nestMForever" title="(id $ x -&gt; (dumpExpireIO x" />= print) &gt;&gt; return x) (return 10 :: ExpireIO Int)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Just (1,10)
Jus^Ct (1,10)
JusInterrupted.

Real Mem: 157.4 MB

See `stable_infinite_ExpireIO_loop_sample.txt` for a sample
</pre></div></div><div class="top"><p class="src"><a id="v:nestByOrd" class="def">nestByOrd</a> :: (a -&gt; <a href="../base-4.10.1.0/Data-Ord.html#t:Ordering">Ordering</a>) -&gt; (a -&gt; a) -&gt; (a -&gt; a) -&gt; a -&gt; a <a href="src/Timers.html#nestByOrd" class="link">Source</a> <a href="#v:nestByOrd" class="selflink">#</a></p><div class="doc"><p>This function assumes that applying <code>f</code> too many times is fine, it tries to apply <code>f</code> just enough times to hit EQ, then applies <code>g</code> and repeats forever</p></div></div><div class="top"><p class="src"><a id="v:switchByPred" class="def">switchByPred</a> :: (t1 -&gt; t) -&gt; (t1 -&gt; t) -&gt; (t1 -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; t1 -&gt; t <a href="src/Timers.html#switchByPred" class="link">Source</a> <a href="#v:switchByPred" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:switchByPred">switchByPred</a></code> returns `f x` if `p x` else `g x`.</p></div></div><div class="top"><p class="src"><a id="v:switchOnM" class="def">switchOnM</a> :: (<a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m, <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m1) =&gt; (b -&gt; m1 b) -&gt; (m1 b -&gt; m b) -&gt; m1 <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; b -&gt; m b <a href="src/Timers.html#switchOnM" class="link">Source</a> <a href="#v:switchOnM" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:switchOnM">switchOnM</a></code> is to <code><a href="Timers.html#v:switchEveryN">switchEveryN</a></code> as <code><a href="Timers.html#v:nestByM">nestByM</a></code> is to <code><a href="Timers.html#v:nestM">nestM</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:switchEveryN" class="def">switchEveryN</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (b -&gt; b) -&gt; (b -&gt; m b) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; b -&gt; m b <a href="src/Timers.html#switchEveryN" class="link">Source</a> <a href="#v:switchEveryN" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:switchEveryN">switchEveryN</a></code> applies f, n times, then g once, then repeats forever.</p></div></div><div class="top"><p class="src"><a id="v:switchEveryM" class="def">switchEveryM</a> :: <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; (a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a) -&gt; (a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a) -&gt; a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.10.1.0/Data-Void.html#t:Void">Void</a> <a href="src/Timers.html#switchEveryM" class="link">Source</a> <a href="#v:switchEveryM" class="selflink">#</a></p><div class="doc"><p>Seconds taken to be in <code>[1..59]</code>. This returns fElse of the input if the clock time's minutes == minutes, otherwise <code>f x</code>.
 Note that this function results in an infinite loop (which is why it has a return type of <code><a href="../base-4.10.1.0/Data-Void.html#t:Void">Void</a></code>).</p></div></div><div class="top"><p class="src"><a id="v:fixPt" class="def">fixPt</a> :: <a href="../base-4.10.1.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; (a -&gt; a) -&gt; a -&gt; a <a href="src/Timers.html#fixPt" class="link">Source</a> <a href="#v:fixPt" class="selflink">#</a></p><div class="doc"><p><code><a href="Timers.html#v:fixPt">fixPt</a></code> gives the fixed point of <code>f</code> on <code>x</code>.
 Compare its type to that of <code>fix</code>:</p><pre> fix :: (a -&gt; a) -&gt; a
</pre><p>This fixed-point stops at equality, e.g. <code>1, 2, 3, 3, a.. -&gt; 1, 2, 3</code>.</p></div></div><div class="top"><p class="src"><a id="v:printEveryN" class="def">printEveryN</a> :: <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> b =&gt; (b -&gt; b) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; b -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> b <a href="src/Timers.html#printEveryN" class="link">Source</a> <a href="#v:printEveryN" class="selflink">#</a></p><div class="doc"><p>Nest the function the given number of times, on the given value, printing every iteration</p><pre> f n x -&gt; (mapM_ print . take n . iterate f) x &gt;&gt; return (nest f n x)
</pre></div></div><div class="top"><p class="src"><a id="v:sideEffectEveryN" class="def">sideEffectEveryN</a> :: <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (b -&gt; m a) -&gt; (b -&gt; b) -&gt; <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; b -&gt; m b <a href="src/Timers.html#sideEffectEveryN" class="link">Source</a> <a href="#v:sideEffectEveryN" class="selflink">#</a></p><div class="doc"><p>Nest the function the given number of times, on the given value, resulting in the given side-effect every iteration</p><pre> s f n x -&gt; (mapM_ s . take n . iterate f) x &gt;&gt; return (nest f n x)
</pre></div></div><div class="top"><p class="src"><a id="v:switchEvery-39-" class="def">switchEvery'</a> :: (<a href="../time-1.8.0.2/Data-Time-Clock.html#t:UTCTime">UTCTime</a>, <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a>, <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a>, <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5), t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5), <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5) -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../time-1.8.0.2/Data-Time-Clock.html#t:UTCTime">UTCTime</a>, <a href="../base-4.10.1.0/Prelude.html#t:Integer">Integer</a>, <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a>, <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5), t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5), <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5) <a href="src/Timers.html#switchEvery%27" class="link">Source</a> <a href="#v:switchEvery-39-" class="selflink">#</a></p><div class="doc"><p>The next step, <code><a href="Timers.html#v:switchEvery-39--39-">switchEvery''</a></code> forever
 <code>
  <code><a href="Timers.html#v:nestMForever">nestMForever</a></code> switchEvery''
 </code></p></div></div><div class="top"><p class="src"><a id="v:switchEvery-39--39-" class="def">switchEvery''</a> :: (<a href="../base-4.10.1.0/Prelude.html#t:Integral">Integral</a> t4, <a href="../base-4.10.1.0/Prelude.html#t:Integral">Integral</a> t6) =&gt; (<a href="../time-1.8.0.2/Data-Time-Clock.html#t:UTCTime">UTCTime</a>, t6, t4, t7 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t7, t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t7, <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t5) -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../time-1.8.0.2/Data-Time-Clock.html#t:UTCTime">UTCTime</a>, t6, <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a>, t7 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t7, t5 -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> t7, t7) <a href="src/Timers.html#switchEvery%27%27" class="link">Source</a> <a href="#v:switchEvery-39--39-" class="selflink">#</a></p><div class="doc"><p>This is a sketch of what a &quot;log every so often, efficiently&quot; function could look like.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>